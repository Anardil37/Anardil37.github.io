<html>
  
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../../../style.css">
    <base target="_parent">
    <title data-trilium-title>Installation</title>
  </head>
  
  <body>
    <div class="content">
       <h1 data-trilium-h1>Installation</h1>

      <div class="ck-content">
        <p>Se connecter en ROOT</p>
        <p>&nbsp;</p>
        <p>Se placer dans le dossier /usr/src</p><pre><code class="language-text-plain">cd /usr/src</code></pre>
        <p>&nbsp;</p>
        <p>Télécharger l'archive d'asterisk</p><pre><code class="language-text-plain">wget https://downloads.asterisk.org/pub/telephony/asterisk/asterisk-16-current.tar.gz</code></pre>
        <p>&nbsp;</p>
        <p>Extraire l'archive</p><pre><code class="language-text-plain">tar xzvf asterisk-16-current.tar.gz</code></pre>
        <p>&nbsp;</p>
        <p>Se placer dans le dossier contenant les fichiers</p><pre><code class="language-text-plain">cd asterisk-16.10.0</code></pre>
        <p>&nbsp;</p>
        <p>Taper la commande :&nbsp;</p><pre><code class="language-text-plain">contrib/scripts/install_prereq install

(Utiliser le préfixe 33)</code></pre>
        <p>&nbsp;</p>
        <p>Mettre à jour les prérequis pour les mp3</p><pre><code class="language-text-plain">contrib/scripts/get_mp3_source.sh</code></pre>
        <p>&nbsp;</p>
        <p>Une fois fini,</p><pre><code class="language-text-plain">./configure --with-jansson-bundled</code></pre>
        <p>&nbsp;</p>
        <p>On choisit les modules que l'on souhaite</p><pre><code class="language-text-plain">make menuselect</code></pre>
        <p>Il faut choisir dans Add-ons :</p>
        <p>[*] format_mp3</p>
        <p># pour les packages de sons, décocher tous les autres et ne prendre que
          les modules en français</p>
        <p>Il faut choisir dans « Core Sound Packages » :</p>
        <p>[*] CORE-SOUNDS-FR-ULAW</p>
        <p>[*] CORE-SOUNDS-FR-ALAW</p>
        <p>Il faut choisir dans « Music On Hold File Packages » :</p>
        <p>[*] MOH-OPSOUND-ULAW</p>
        <p>[*] MOH-OPSOUND_ALAW</p>
        <p>Il faut choisir dans « Extras Sound Packages » :</p>
        <p>[*} EXTRA-SOUNDS-FR-ULAW</p>
        <p>[*] EXTRA-SOUNDS-FR_ALAW</p>
        <p>Sauvegarder et quitter.</p>
        <p>&nbsp;</p>
        <p>Compiler.</p><pre><code class="language-text-plain">make -j2</code></pre>
        <p>&nbsp;</p>
        <p>Lancer l'installation.</p><pre><code class="language-text-plain">make install</code></pre>
        <p>&nbsp;</p>
        <p>Entrer les commandes.</p><pre><code class="language-text-plain">make samples
make config
ldconfig
make install-logrotate
systemctl start asterisk
systemctl status asterisk</code></pre>
        <p>&nbsp;</p>
        <p>Pour ouvrir la console asterisk :&nbsp;</p><pre><code class="language-text-plain">asterisk -rvv</code></pre>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
      </div>
    </div>
  </body>

</html>